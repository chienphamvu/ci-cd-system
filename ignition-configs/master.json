{"ignition":{"config":{},"security":{"tls":{}},"timeouts":{},"version":"2.2.0"},"networkd":{},"passwd":{},"storage":{"files":[{"filesystem":"root","group":{"id":501},"path":"/opt/file1","user":{"id":500},"contents":{"source":"data:,Hello%2C%20world!","verification":{}},"mode":420},{"filesystem":"root","path":"/etc/coreos/update.conf","contents":{"source":"data:,%0AREBOOT_STRATEGY%3D%22off%22","verification":{}},"mode":420}]},"systemd":{"units":[{"contents":"[Unit]\nDescription=Mount storage disk\n\n[Service]\nType=oneshot\nRemainAfterExit=yes\nExecStartPre=/usr/bin/mkdir -p /storage\nExecStart=/usr/bin/mount /dev/xvdh1 /storage\nExecStop=/usr/bin/umount /storage\n","name":"storage-mount.service"},{"contents":"[Unit]\nDescription=Jenkins master\nAfter=docker.service storage-mount.service\nRequires=docker.service storage-mount.service\n\n[Service]\nExecStartPre=-/usr/bin/docker pull chienphamvu/jenkins\nExecStart=/usr/bin/docker run \\\n                             --rm \\\n                             --name %p \\\n                             -p 8080:8080 \\\n                             -p 50000:50000 \\\n                             -v /storage/jenkins_data:/var/jenkins_home \\\n                             chienphamvu/jenkins-master\nExecStop=/usr/bin/docker kill %p\nRestart=always\nRestartSec=10s\nTimeoutStartSec=0\nTimeoutStopSec=15\n\n[Install]\nWantedBy=multi-user.target\n","enable":true,"name":"jenkins.service"}]}}